"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.WalletFactoryAPI = void 0;
const ethers_1 = require("ethers");
const common_1 = require("@biconomy/common");
// review // rename to SmartAccountFactoryAPI
class WalletFactoryAPI {
    static async deployWalletTransactionCallData(txServiceUrl, chainId, factoryAddress, owner, handlerAddress, implementationAddress, index) {
        const walletInfo = await (0, common_1.getWalletInfo)({
            chainId,
            owner,
            txServiceUrl,
            index
        });
        common_1.Logger.log('walletInfo ', walletInfo);
        if (walletInfo.isDeployed) {
            handlerAddress = walletInfo.handlerAddress;
            implementationAddress = walletInfo.implementationAddress;
            common_1.Logger.log(handlerAddress, implementationAddress);
        }
        const factory = new ethers_1.Contract(factoryAddress, [
            'function deployCounterFactualAccount(address _owner, uint256 _index) returns(address)'
        ]);
        const encodedData = factory.interface.encodeFunctionData('deployCounterFactualAccount', [
            owner,
            index
        ]);
        return encodedData;
    }
}
exports.WalletFactoryAPI = WalletFactoryAPI;
//# sourceMappingURL=WalletFactoryAPI.js.map